{
  "timestamp": "20251209_022712",
  "n_sites": 7,
  "results": [
    {
      "site_id": 1,
      "o3_metrics": {
        "train_rmse": 1.568994749367318,
        "train_mae": 1.0810087313177779,
        "train_bias": -0.0003685777813525917,
        "train_r2": 0.9975114904436139,
        "val_rmse": 3.777275344580537,
        "val_mae": 1.798273328099863,
        "val_bias": 0.5746583707816151,
        "val_r2": 0.9894378430349123,
        "best_iteration": 300
      },
      "no2_metrics": {
        "train_rmse": 3.5008251079797543,
        "train_mae": 2.4358641679070008,
        "train_bias": 0.0004632459941427299,
        "train_r2": 0.9807850893160379,
        "val_rmse": 15.262015547864536,
        "val_mae": 6.284776176889259,
        "val_bias": -2.8148868646583405,
        "val_r2": 0.8613983757545235,
        "best_iteration": 100
      },
      "n_samples": 25081,
      "n_train": 21265,
      "n_val": 1992,
      "n_test": 1824
    },
    {
      "site_id": 2,
      "o3_metrics": {
        "train_rmse": 1.5203505060103057,
        "train_mae": 1.071193261019883,
        "train_bias": -0.0026151644136114226,
        "train_r2": 0.9974530698175778,
        "val_rmse": 3.6475488999696966,
        "val_mae": 1.574526084529029,
        "val_bias": 0.25916701871585224,
        "val_r2": 0.9863817390932816,
        "best_iteration": 300
      },
      "no2_metrics": {
        "train_rmse": 1.453528685375731,
        "train_mae": 1.0605827157295449,
        "train_bias": 0.0008583226023368849,
        "train_r2": 0.9958741637071582,
        "val_rmse": 5.238617780301657,
        "val_mae": 2.7488677237002683,
        "val_bias": -0.2918422530133739,
        "val_r2": 0.9625664684945919,
        "best_iteration": 290
      },
      "n_samples": 25969,
      "n_train": 21049,
      "n_val": 2448,
      "n_test": 2472
    },
    {
      "site_id": 3,
      "o3_metrics": {
        "train_rmse": 1.9141206442149499,
        "train_mae": 1.3401562893121817,
        "train_bias": 0.0010187628631857753,
        "train_r2": 0.997692212359437,
        "val_rmse": 4.486246522965609,
        "val_mae": 2.251927331296558,
        "val_bias": 0.2563490542916187,
        "val_r2": 0.9891441364343586,
        "best_iteration": 300
      },
      "no2_metrics": {
        "train_rmse": 2.089854099830919,
        "train_mae": 1.5753867867557914,
        "train_bias": -0.0008192487764958218,
        "train_r2": 0.995810595614215,
        "val_rmse": 10.711216223282985,
        "val_mae": 4.833258512652281,
        "val_bias": -1.7034198661825874,
        "val_r2": 0.94310135881781,
        "best_iteration": 300
      },
      "n_samples": 21913,
      "n_train": 17737,
      "n_val": 2112,
      "n_test": 2064
    },
    {
      "site_id": 4,
      "o3_metrics": {
        "train_rmse": 1.8907970214612932,
        "train_mae": 1.3826819904584422,
        "train_bias": 0.0014765143571185224,
        "train_r2": 0.9972732234107952,
        "val_rmse": 3.4195175245724942,
        "val_mae": 2.137626279890219,
        "val_bias": 0.14898562624190856,
        "val_r2": 0.9924948737254986,
        "best_iteration": 300
      },
      "no2_metrics": {
        "train_rmse": 1.413062180038102,
        "train_mae": 1.063373592507983,
        "train_bias": 0.0029576977110061763,
        "train_r2": 0.9958110778458527,
        "val_rmse": 4.051428758914618,
        "val_mae": 2.220779567029741,
        "val_bias": -0.41049649265077376,
        "val_r2": 0.9779605142740903,
        "best_iteration": 290
      },
      "n_samples": 24505,
      "n_train": 20305,
      "n_val": 1872,
      "n_test": 2328
    },
    {
      "site_id": 5,
      "o3_metrics": {
        "train_rmse": 1.6361714773714429,
        "train_mae": 1.1710993420092441,
        "train_bias": 4.7030235992455336e-05,
        "train_r2": 0.9974166214966073,
        "val_rmse": 2.875091442329971,
        "val_mae": 1.5260633757997444,
        "val_bias": 0.22552837136498205,
        "val_r2": 0.9913061901590592,
        "best_iteration": 300
      },
      "no2_metrics": {
        "train_rmse": 2.0566684633504755,
        "train_mae": 1.5313832937056464,
        "train_bias": 0.0013899371232300943,
        "train_r2": 0.9959064599624295,
        "val_rmse": 5.846740987826987,
        "val_mae": 3.533090834900185,
        "val_bias": -0.38588131053359415,
        "val_r2": 0.9729640963181068,
        "best_iteration": 300
      },
      "n_samples": 25081,
      "n_train": 20665,
      "n_val": 2160,
      "n_test": 2256
    },
    {
      "site_id": 6,
      "o3_metrics": {
        "train_rmse": 1.3750284965712336,
        "train_mae": 0.9281765573199656,
        "train_bias": -0.0025050168357438145,
        "train_r2": 0.9972845608838938,
        "val_rmse": 2.699534998262297,
        "val_mae": 1.3699375338224387,
        "val_bias": -0.012239631100975295,
        "val_r2": 0.9893986872452337,
        "best_iteration": 300
      },
      "no2_metrics": {
        "train_rmse": 1.1323285033783692,
        "train_mae": 0.8391797887573091,
        "train_bias": -0.0006049628056011938,
        "train_r2": 0.9957823967968299,
        "val_rmse": 4.117164609368781,
        "val_mae": 1.9638274945609868,
        "val_bias": -0.39359955454238077,
        "val_r2": 0.9620050282148556,
        "best_iteration": 300
      },
      "n_samples": 26353,
      "n_train": 21769,
      "n_val": 2088,
      "n_test": 2496
    },
    {
      "site_id": 7,
      "o3_metrics": {
        "train_rmse": 1.83266279608141,
        "train_mae": 1.3238935333774233,
        "train_bias": -0.00139797063507489,
        "train_r2": 0.9975563427579576,
        "val_rmse": 4.393005320901452,
        "val_mae": 2.1745351353360385,
        "val_bias": 0.3544396471734939,
        "val_r2": 0.9881857482582336,
        "best_iteration": 300
      },
      "no2_metrics": {
        "train_rmse": 1.3666083098597581,
        "train_mae": 1.0141343116952268,
        "train_bias": -0.0011097518554789834,
        "train_r2": 0.9962094384394389,
        "val_rmse": 5.684700752030737,
        "val_mae": 2.740665653866481,
        "val_bias": -0.40852533165032295,
        "val_r2": 0.9602756934522758,
        "best_iteration": 300
      },
      "n_samples": 22777,
      "n_train": 18625,
      "n_val": 1968,
      "n_test": 2184
    }
  ],
  "improvements_applied": [
    "Added lag features (NO2/O3_target_lag1, lag2, lag3, lag6, lag12)",
    "Added rolling window features (NO2_roll3, roll6, roll12, O3_roll3, etc.)",
    "Fixed satellite noise (smooth and drop raw columns)",
    "Improved temporal features (sin/cos encoding for hour and month)",
    "True time-series split (Jan-Oct train, Nov val, Dec test)",
    "Optimized hyperparameters (max_depth=5, etc.)"
  ]
}